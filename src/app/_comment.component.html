<!-- HTML template for the CommentComponent -->
<profile-card [profile]='_comment.from'>
    <div *ngIf='_comment.attachment' md-card-image>
        <a *ngIf='!video' [href]='_comment.attachment.url' target='_blank'>
            <img md-card-image [src]='_comment.attachment.media.image.src'>
        </a>
        <video
                *ngIf='video'
                md-card-image
                controls
                preload='metadata'
                [poster]='_comment.attachment.media.image.src'>
            <source [src]='video.source'>
        </video>
    </div>
    <md-card-content *ngIf='_comment.message'>
        <p>{{_comment.message}}</p>
    </md-card-content>
    <md-card-content *ngIf='comments.length'>
        <blockquote *ngFor='let comment of comments'>
            <p>
                <a [appLink]='utilService.profileLink(comment.from.id)'>
                    <strong>
                        <span class='text-primary'>@</span>{{comment.from.name}}
                    </strong>
                </a>
                <a
                        *ngIf='comment.attachment'
                        md-button
                        color='accent'
                        class='app-icon-button'
                        [href]='comment.attachment.url'
                        target='_blank'>
                    <md-icon>attachment</md-icon>
                </a>
                <br>
                {{comment.message}}<!--
            --></p>
        </blockquote>
    </md-card-content>
    <md-card-content *ngIf='!_loaded'>
        <md-spinner color='accent'></md-spinner>
    </md-card-content>
    <md-card-footer>
        <div>
            <p>
                <span
                        mdTooltip="Likes"
                        mdTooltipShowDelay='1500'
                        mdTooltipHideDelay='1500'>
                    <span class='text-primary'>
                        <md-icon>thumb_up</md-icon>
                    </span>
                    <span class='text-accent'>
                        <strong>{{_comment.like_count}}</strong>
                    </span>
                </span>
                <span
                        mdTooltip="Antworten"
                        mdTooltipShowDelay='1500'
                        mdTooltipHideDelay='1500'>
                    <span class='text-primary'>
                        <md-icon>reply</md-icon>
                    </span>
                    <span class='text-accent'>
                        <strong>{{_comment.comment_count}}</strong>
                    </span>
                </span>
            </p>
        </div>
    </md-card-footer>
    <md-card-actions>
        <a
                md-button
                href='//facebook.com/{{_comment.id}}'
                target='_blank'>
            Facebook Ã¶ffnen
            <md-icon>open_in_browser</md-icon>
        </a>
        <button
                md-button
                color='primary'
                [disabled]='params.profile === _comment.from.id'
                [appLink]='utilService.profileLink(_comment.from.id)'>
            Profil zeigen
            <md-icon>account_box</md-icon>
        </button>
    </md-card-actions>
</profile-card>

